import{_ as s,c as a,o as n,a as e}from"./app.d816eea3.js";const D=JSON.parse('{"title":"Middleware","description":"","frontmatter":{},"headers":[{"level":2,"title":"Priority","slug":"priority","link":"#priority","children":[]},{"level":2,"title":"Redirect","slug":"redirect","link":"#redirect","children":[]},{"level":2,"title":"onPageCalled","slug":"onpagecalled","link":"#onpagecalled","children":[]},{"level":2,"title":"OnBindingsStart","slug":"onbindingsstart","link":"#onbindingsstart","children":[]},{"level":2,"title":"OnPageBuildStart","slug":"onpagebuildstart","link":"#onpagebuildstart","children":[]},{"level":2,"title":"OnPageBuilt","slug":"onpagebuilt","link":"#onpagebuilt","children":[]},{"level":2,"title":"OnPageDispose","slug":"onpagedispose","link":"#onpagedispose","children":[]}],"relativePath":"utils/middleware.md","lastUpdated":null}'),l={name:"utils/middleware.md"},p=e(`<h1 id="middleware" tabindex="-1">Middleware <a class="header-anchor" href="#middleware" aria-hidden="true">#</a></h1><p>The GetPage has now new property that takes a list of GetMiddleWare and run them in the specific order.</p><p><strong>Note</strong>: When GetPage has a Middlewares, all the children of this page will have the same middlewares automatically.</p><h2 id="priority" tabindex="-1">Priority <a class="header-anchor" href="#priority" aria-hidden="true">#</a></h2><p>The Order of the Middlewares to run can be set by the priority in the GetMiddleware.</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> middlewares </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">GetMiddleware</span><span style="color:#A6ACCD;">(priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">GetMiddleware</span><span style="color:#A6ACCD;">(priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">GetMiddleware</span><span style="color:#A6ACCD;">(priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">GetMiddleware</span><span style="color:#A6ACCD;">(priority</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>those middlewares will be run in this order <strong>-8 =&gt; 2 =&gt; 4 =&gt; 5</strong></p><h2 id="redirect" tabindex="-1">Redirect <a class="header-anchor" href="#redirect" aria-hidden="true">#</a></h2><p>This function will be called when the page of the called route is being searched for. It takes RouteSettings as a result to redirect to. Or give it null and there will be no redirecting.</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">RouteSettings</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">redirect</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> route) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> authService </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Get</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">AuthService</span><span style="color:#A6ACCD;">&gt;()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> authService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">authed</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">RouteSettings</span><span style="color:#A6ACCD;">(name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&#39;/login&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="onpagecalled" tabindex="-1">onPageCalled <a class="header-anchor" href="#onpagecalled" aria-hidden="true">#</a></h2><p>This function will be called when this Page is called before anything created you can use it to change something about the page or give it new page</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">GetPage</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onPageCalled</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">GetPage</span><span style="color:#A6ACCD;"> page) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> authService </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Get</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">AuthService</span><span style="color:#A6ACCD;">&gt;()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> page</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copyWith</span><span style="color:#A6ACCD;">(title</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&#39;Welcome \${</span><span style="color:#A6ACCD;font-style:italic;">authService</span><span style="color:#C3E88D;">.</span><span style="color:#FFCB6B;">UserName</span><span style="color:#C3E88D;">}&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="onbindingsstart" tabindex="-1">OnBindingsStart <a class="header-anchor" href="#onbindingsstart" aria-hidden="true">#</a></h2><p>This function will be called right before the Bindings are initialize. Here you can change Bindings for this page.</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">List</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">Bindings</span><span style="color:#A6ACCD;">&gt; </span><span style="color:#82AAFF;">onBindingsStart</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">List</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">Bindings</span><span style="color:#A6ACCD;">&gt; bindings) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> authService </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Get</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">AuthService</span><span style="color:#A6ACCD;">&gt;()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (authService</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isAdmin) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    bindings</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">AdminBinding</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> bindings</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="onpagebuildstart" tabindex="-1">OnPageBuildStart <a class="header-anchor" href="#onpagebuildstart" aria-hidden="true">#</a></h2><p>This function will be called right after the Bindings are initialize. Here you can do something after that you created the bindings and before creating the page widget.</p><div class="language-dart"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">GetPageBuilder</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onPageBuildStart</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">GetPageBuilder</span><span style="color:#A6ACCD;"> page) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#A6ACCD;">(</span><span style="color:#C3E88D;">&#39;bindings are ready&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> page</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="onpagebuilt" tabindex="-1">OnPageBuilt <a class="header-anchor" href="#onpagebuilt" aria-hidden="true">#</a></h2><p>This function will be called right after the GetPage.page function is called and will give you the result of the function. and take the widget that will be showed.</p><h2 id="onpagedispose" tabindex="-1">OnPageDispose <a class="header-anchor" href="#onpagedispose" aria-hidden="true">#</a></h2><p>This function will be called right after disposing all the related objects (Controllers, views, ...) of the page.</p>`,23),t=[p];function o(r,i,c,d,C,y){return n(),a("div",null,t)}const F=s(l,[["render",o]]);export{D as __pageData,F as default};
